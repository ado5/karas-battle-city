{"version":3,"file":"index.js","sources":["src/data.js","src/eventBus.js","src/Menu.js","src/StageNum.js","src/Box.js","src/Brick.js","src/Iron.js","src/Fade.js","src/Player.js","src/Bullet.js","src/Hit.js","src/index.js"],"sourcesContent":["export default {\n  \"0\": {\n    \"brick\": [[7, 4], [7, 5], [7, 6], [7, 7], [7, 8], [7, 9], [7, 10], [7, 11], [8, 4], [8, 5], [8, 6], [8, 7], [8, 8], [8, 9], [8, 10], [8, 11], [11, 4], [12, 4], [12, 5], [11, 5], [11, 6], [12, 6], [12, 7], [11, 7], [11, 8], [12, 8], [12, 9], [11, 9], [11, 10], [12, 10], [11, 11], [12, 11], [9, 14], [9, 15], [10, 15], [10, 14], [11, 14], [11, 15], [12, 15], [12, 14], [7, 18], [8, 18], [7, 19], [8, 19], [7, 20], [8, 20], [7, 21], [8, 21], [7, 22], [8, 22], [7, 23], [8, 23], [7, 24], [8, 24], [7, 25], [8, 25], [11, 18], [12, 18], [12, 19], [12, 20], [12, 21], [12, 22], [11, 22], [11, 20], [11, 19], [11, 21], [11, 23], [12, 23], [12, 24], [11, 24], [11, 25], [12, 25], [15, 9], [16, 9], [16, 8], [15, 8], [15, 7], [16, 7], [16, 6], [15, 6], [15, 5], [15, 4], [16, 4], [16, 5], [19, 9], [20, 9], [20, 8], [19, 8], [19, 7], [20, 7], [20, 6], [19, 6], [19, 5], [19, 4], [20, 4], [20, 5], [15, 12], [15, 13], [16, 13], [16, 12], [19, 12], [19, 13], [20, 13], [20, 12], [15, 17], [15, 16], [16, 16], [16, 17], [15, 18], [16, 18], [15, 19], [16, 19], [15, 20], [16, 20], [15, 21], [16, 21], [15, 22], [16, 22], [19, 16], [20, 16], [20, 17], [19, 17], [19, 18], [20, 18], [20, 19], [19, 19], [19, 20], [20, 20], [20, 21], [19, 21], [19, 22], [20, 22], [17, 17], [18, 17], [18, 18], [17, 18], [23, 4], [24, 4], [23, 5], [24, 5], [24, 6], [23, 6], [23, 8], [23, 7], [24, 7], [24, 8], [23, 9], [24, 9], [23, 10], [24, 10], [23, 11], [24, 11], [27, 4], [28, 4], [28, 5], [27, 5], [27, 6], [28, 6], [28, 7], [27, 7], [27, 8], [28, 8], [28, 9], [27, 10], [27, 9], [28, 10], [27, 11], [28, 11], [23, 14], [23, 15], [24, 14], [24, 15], [26, 14], [26, 15], [25, 15], [25, 14], [23, 18], [24, 18], [23, 19], [24, 19], [23, 20], [24, 20], [23, 21], [24, 21], [23, 22], [24, 22], [23, 23], [24, 23], [23, 24], [24, 24], [23, 25], [24, 25], [27, 18], [28, 18], [27, 19], [28, 19], [27, 20], [28, 20], [27, 21], [28, 21], [27, 22], [28, 22], [27, 23], [28, 23], [27, 25], [28, 25], [28, 24], [27, 24], [29, 14], [30, 14], [6, 14], [5, 14], [16, 25], [17, 25], [18, 25], [19, 25], [16, 26], [16, 27], [19, 26], [19, 27]],\n    \"iron\": [[30, 15], [29, 15], [6, 15], [5, 15], [17, 7], [18, 7], [18, 8], [17, 8]],\n    \"home\": [[17, 26]],\n    \"player\": [[13, 26], [21, 26]],\n    \"enemy\": [[17, 2], [5, 2], [29, 2]],\n    \"box\": [5, 2, 31, 28]\n  },\n  current: null,\n};\n","import karas from 'karas';\nimport data from './data';\n\nlet eventBus = new karas.Event();\n\neventBus.BEFORE_MENU = 0;\neventBus.MENUING = 1;\neventBus.BEFORE_GAME = 2;\neventBus.WILL_GAME = 3;\neventBus.GAMEING = 4;\n\neventBus.gameState = eventBus.BEFORE_MENU;\n\neventBus.HIT_BOX = 'HIT_BOX';\neventBus.HIT_BRICK = 'HIT_BRICK';\neventBus.HIT_IRON = 'HIT_IRON';\n\nexport default eventBus;\n","import karas from 'karas';\nimport eventBus from './eventBus';\n\nclass Menu extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.playerNum = 1;\n  }\n\n  componentDidMount() {\n    let sr = this.shadowRoot;\n    let tank = this.ref.tank;\n    let animation = sr.animate([\n      {},\n      {\n        translateY: '-50%',\n      }\n    ], {\n      duration: 1200,\n      fill: 'forwards',\n    });\n    let tankAnimation;\n    // 上移结束显示选择tank\n    animation.on('finish', function() {\n      eventBus.emit(eventBus.MENUING);\n      eventBus.gameState = eventBus.MENUING;\n      tank.updateStyle({\n        visibility: 'inherit',\n      });\n      tankAnimation = tank.animate([\n        {},\n        {\n          backgroundPositionX: -102,\n        }\n      ], {\n        duration: 100,\n        iterations: Infinity,\n        easing: 'steps(1)',\n        direction: 'alternate-reverse',\n      });\n    });\n    // 开始游戏隐藏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.updateStyle({\n        visibility: 'hidden',\n      });\n      tankAnimation.pause();\n    });\n  }\n\n  altPlayerNum() {\n    let n = this.playerNum = this.playerNum === 2 ? 1 : 2;\n    if(n === 2) {\n      this.ref.tank.updateStyle({\n        translateY: 32,\n      });\n    }\n    else {\n      this.ref.tank.updateStyle({\n        translateY: 0,\n      });\n    }\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: '50%',\n      top: '50%',\n      width: 396,\n      height: 302,\n      translateX: '-50%',\n      translateY: 300,\n    }}>\n      <img src=\"menu.png\"\n           style={{\n             width: '100%',\n             height: '100%',\n           }}/>\n      <div ref=\"tank\"\n           style={{\n             position: 'absolute',\n             left: 100,\n             top: 216,\n             width: 32,\n             height: 32,\n             background: 'url(tank.png) no-repeat -68px -272px',\n             visibility: 'hidden',\n           }}/>\n    </div>;\n  }\n}\n\nexport default Menu;\n","import karas from 'karas';\nimport eventBus from './eventBus';\n\nclass StageNum extends karas.Component {\n  constructor(prpos) {\n    super(prpos);\n    this.state = {\n      num: 1,\n    };\n  }\n\n  show(num) {\n    // 设置数字\n    this.setState({\n      num,\n    }, () => {\n      // 上下遮盖屏幕动画\n      this.ref.top.animate([\n        {\n          translateY: '-100%',\n        },\n        {\n          translateY: 0,\n        },\n      ], {\n        duration: 300,\n        fill: 'forwards',\n      });\n      let a = this.ref.bottom.animate([\n        {\n          translateY: '100%',\n        },\n        {\n          translateY: 0,\n        },\n      ], {\n        duration: 300,\n        fill: 'forwards',\n      });\n      // 遮盖完成显示局数\n      a.on('finish', () => {\n        this.ref.text.updateStyle({\n          visibility: 'visible',\n        }, () => {\n          // 等待1s\n          setTimeout(() => {\n            // 隐藏主tank菜单和局数，显示游戏主场景\n            eventBus.emit(eventBus.WILL_GAME);\n            eventBus.gameState = eventBus.WILL_GAME;\n            this.ref.text.updateStyle({\n              visibility: 'hidden',\n            });\n            // 打开遮盖\n            this.ref.top.animate([\n              {\n                translateY: 0,\n              },\n              {\n                translateY: '-100%',\n              },\n            ], {\n              duration: 300,\n              fill: 'forwards',\n            });\n            let a = this.ref.bottom.animate([\n              {\n                translateY: 0,\n              },\n              {\n                translateY: '100%',\n              },\n            ], {\n              duration: 300,\n              fill: 'forwards',\n            });\n            // 开始游戏\n            a.on('finish', () => {\n              eventBus.emit(eventBus.GAMEING);\n              eventBus.gameState = eventBus.GAMEING;\n            });\n          }, 1000);\n        });\n      });\n    });\n  }\n\n  render() {\n    return <div style={{\n                  position: 'absolute',\n                  left: 0,\n                  top: 0,\n                  width: '100%',\n                  height: '100%',\n                }}>\n      <span ref=\"top\"\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: 0,\n              width: '100%',\n              height: '50%',\n              background: '#ccc',\n              translateY: '-100%',\n            }}/>\n      <span ref=\"bottom\"\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: '50%',\n              width: '100%',\n              height: '50%',\n              background: '#ccc',\n              translateY: '100%',\n            }}/>\n      <span ref=\"text\"\n            style={{\n              position: 'absolute',\n              left: '50%',\n              top: '50%',\n              translateX: '-50%',\n              translateY: '-50%',\n              visibility: 'hidden',\n              fontSize: 48,\n              fontWeight: 700,\n            }}>Stage {this.state.num || 1}</span>\n    </div>;\n  }\n}\n\nexport default StageNum;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Box extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: data[0].box,\n      home: data[0].home,\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.updateStyle({\n        visibility: 'visible',\n      });\n    });\n  }\n\n  updateList(list, home) {\n    this.setState({\n      list,\n      home,\n    });\n  }\n\n  render() {\n    let list = this.state.list;\n    let home = this.state.home;\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      background: '#999',\n      visibility: 'hidden',\n    }}>\n      <span style={{\n        position: 'absolute',\n        left: list[0] * 16,\n        top: list[1] * 16,\n        width: (list[2] - list[0]) * 16,\n        height: (list[3] - list[1]) * 16,\n        background: '#111',\n      }}/>\n      <span style={{\n        position: 'absolute',\n        left: home[0][0] * 16,\n        top: home[0][1] * 16,\n        width: 32,\n        height: 32,\n        background: 'url(tank.png) no-repeat -646px -170px',\n      }}/>\n    </div>;\n  }\n}\n\nexport default Box;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Brick extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.updateStyle({\n        visibility: 'visible',\n      });\n    });\n    eventBus.on(eventBus.HIT_BRICK, (id, x, y, data) => {\n      let hash = {};\n      data.forEach(item => {\n        hash[item[0]] = hash[item[0]] || [];\n        hash[item[0]].push(item[1]);\n      });\n      for(let list = this.state.list, i = 0, len = list.length; i < len; i++) {\n        let item = list[i];\n        if(!item[2] && hash.hasOwnProperty(item[0]) && hash[item[0]].indexOf(item[1]) > -1) {\n          item.push(true);\n          this.ref[item[0] + ',' + item[1]].updateStyle({\n            display: 'none',\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: 'hidden',\n    }}>\n      {\n        this.state.list.map(item => {\n          let [x, y] = item;\n          let left = x * 16;\n          let top = y * 16;\n          return <span ref={x + ',' + y}\n                       style={{\n                         position: 'absolute',\n                         left,\n                         top,\n                         width: 16,\n                         height: 16,\n                         background: 'url(tank.png) no-repeat -612px -170px',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Brick;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Brick extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.updateStyle({\n        visibility: 'visible',\n      });\n    });\n  }\n\n  updateList(list) {\n    this.setState({\n      list,\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: 'hidden',\n    }}>\n      {\n        this.state.list.map(item => {\n          let [x, y] = item;\n          let left = x * 16;\n          let top = y * 16;\n          return <span ref={x + ',' + y}\n                       style={{\n                         position: 'absolute',\n                         left,\n                         top,\n                         width: 16,\n                         height: 16,\n                         background: 'url(tank.png) no-repeat 0 -204px',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Brick;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Fade extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enemy: data[0].enemy,\n      player: data[0].player,\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.GAMEING, () => {\n      this.updateStyle({\n        visibility: 'visible',\n      });\n      this.show(0);\n      this.show(1);\n    });\n  }\n\n  show(i) {\n    let node = this.ref['player' + i];\n    node.animate([\n      {\n        visibility: 'visible',\n        backgroundPosition: '-204 0',\n      },\n      {\n        visibility: 'visible',\n        backgroundPosition: '0 0',\n      },\n    ], {\n      duration: 300,\n      iterations: 6,\n      direction: 'alternate',\n      easing: 'steps(6)',\n    });\n  }\n\n  updateList(list) {\n    this.setState({\n      list,\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: 'hidden',\n    }}>\n      {\n        this.state.enemy.map((item, i) => {\n          return <span ref={'player' + i}\n                       style={{\n                         position: 'absolute',\n                         left: item[0] * 16,\n                         top: item[1] * 16,\n                         width: 32,\n                         height: 32,\n                         background: 'url(tank.png) no-repeat -204 0',\n                       }}/>;\n        })\n      }\n      {\n        this.state.player.map((item, i) => {\n          return <span ref={'player' + i}\n                       style={{\n                         position: 'absolute',\n                         left: item[0] * 16,\n                         top: item[1] * 16,\n                         width: 32,\n                         height: 32,\n                         background: 'url(tank.png) no-repeat -204 0',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Fade;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nconst MOVE_PX = 2;\n\nfunction checkBox(position, direction, box) {\n  let [tx1, ty1] = position;\n  let tx2 = tx1 + 32;\n  let ty2 = ty1 + 32;\n  let [x1, y1, x2, y2] = box;\n  x1 *= 16;\n  y1 *= 16;\n  x2 *= 16;\n  y2 *= 16;\n  if(direction === 0) {\n    if(y1 === ty1) {\n      return true;\n    }\n  }\n  else if(direction === 1) {\n    if(x2 === tx2) {\n      return true;\n    }\n  }\n  else if(direction === 2) {\n    if(y2 === ty2) {\n      return true;\n    }\n  }\n  else if(direction === 3) {\n    if(x1 === tx1) {\n      return true;\n    }\n  }\n}\n\nfunction checkMove(position, direction, list) {\n  let [tx1, ty1] = position;\n  let tx2 = tx1 + 32;\n  let ty2 = ty1 + 32;\n  for(let i = 0, len = list.length; i < len; i++) {\n    let [x1, y1, disappear] = list[i];\n    if(disappear) {\n      continue;\n    }\n    x1 *= 16;\n    y1 *= 16;\n    let x2 = x1 + 16;\n    let y2 = y1 + 16;\n    if(direction === 0) {\n      if(x1 < tx2 - 1 && x2 > tx1 + 1 && ty1 - y2 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 1) {\n      if(y1 < ty2 - 1 && y2 > ty1 + 1 && tx2 - x1 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 2) {\n      if(x1 < tx2 - 1 && x2 > tx1 + 1 && ty2 - y1 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 3) {\n      if(y1 < ty2 - 1 && y2 > ty1 + 1 && tx1 - x2 === 0) {\n        return true;\n      }\n    }\n  }\n}\n\nclass Player extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      position: [],\n      // list: data[0].player,\n      // position: data[0].player.map(item => {\n      //   return item.map(n => n * 16);\n      // }),\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.GAMEING, () => {\n      this.updateStyle({\n        visibility: 'visible',\n      });\n      this.state.list.forEach((item, i) => {\n        let player = this.ref['player' + i];\n        let shield = this.ref['shield' + i];\n        let fadeIn = player.animate([\n          {\n            opacity: 0.85,\n          },\n          {\n            opacity: 0.7,\n          },\n        ], {\n          duration: 100,\n          iterations: 32,\n          direction: 'alternate',\n          easing: 'steps(2)',\n        });\n        fadeIn.on('finish', () => {\n          player.removeAnimate(fadeIn);\n        });\n        shield.animate([\n          {\n            backgroundPosition: '-442 -238',\n          },\n          {\n            backgroundPosition: '-510 -238',\n          },\n        ], {\n          duration: 100,\n          iterations: 32,\n          direction: 'alternate',\n          easing: 'steps(2)',\n        });\n      });\n    });\n  }\n\n  move(index, direction) {\n    let player = this.ref['player' + index];\n    let tank = this.ref['tank' + index];\n    // 播放坦克移动本身帧动画\n    let currentD = this['playerCurrentD' + index];\n    if(currentD !== direction) {\n      this['playerCurrentD' + index] = direction;\n      tank.clearAnimate();\n      let frame = [];\n      if(direction === 0) {\n        frame = [\n          {\n            backgroundPositionX: 0,\n          },\n          {\n            backgroundPositionX: -34,\n          }\n        ];\n      }\n      else if(direction === 1) {\n        frame = [\n          {\n            backgroundPositionX: -68,\n          },\n          {\n            backgroundPositionX: -102,\n          }\n        ];\n      }\n      else if(direction === 2) {\n        frame = [\n          {\n            backgroundPositionX: -136,\n          },\n          {\n            backgroundPositionX: -170,\n          }\n        ];\n      }\n      else if(direction === 3) {\n        frame = [\n          {\n            backgroundPositionX: -204,\n          },\n          {\n            backgroundPositionX: -238,\n          }\n        ];\n      }\n      tank.animate(frame, {\n        duration: 100,\n        iterations: Infinity,\n        easing: 'steps(1)',\n        direction: 'alternate',\n      });\n    }\n    else {\n      return;\n    }\n    this['playerLastD' + index] = direction;\n    // 检查是否被挡住\n    let position = this.state.position[index];\n    if(checkBox(position, direction, data.current.box)) {\n      return;\n    }\n    if(checkMove(position, direction, data.current.brick)) {\n      return;\n    }\n    if(checkMove(position, direction, data.current.iron)) {\n      return;\n    }\n    // 坦克坐标移动\n    let cb = this['ma' + index];\n    let frameDrop = 0;\n    karas.animate.frame.offFrame(cb);\n    cb = this['ma' + index] = function() {\n      if(frameDrop++ < 1) {\n        return;\n      }\n      frameDrop = 0;\n      if(checkBox(position, direction, data.current.box)) {\n        return;\n      }\n      if(checkMove(position, direction, data.current.brick)) {\n        return;\n      }\n      if(checkMove(position, direction, data.current.iron)) {\n        return;\n      }\n      if(direction === 0) {\n        position[1] -= MOVE_PX;\n        player.updateStyle({\n          translateY: player.getComputedStyle('translateY').translateY - MOVE_PX,\n        });\n      }\n      else if(direction === 1) {\n        position[0] += MOVE_PX;\n        player.updateStyle({\n          translateX: player.getComputedStyle('translateX').translateX + MOVE_PX,\n        });\n      }\n      else if(direction === 2) {\n        position[1] += MOVE_PX;\n        player.updateStyle({\n          translateY: player.getComputedStyle('translateY').translateY + MOVE_PX,\n        });\n      }\n      else if(direction === 3) {\n        position[0] -= MOVE_PX;\n        player.updateStyle({\n          translateX: player.getComputedStyle('translateX').translateX - MOVE_PX,\n        });\n      }\n    };\n    karas.animate.frame.onFrame(cb);\n  }\n\n  stop(index) {\n    let player = this.ref['player' + index];\n    let tank = this.ref['tank' + index];\n    tank.animationList[0].pause();\n    let cb = this['ma' + index];\n    karas.animate.frame.offFrame(cb);\n    let currentD = this['playerCurrentD' + index];\n    if(currentD === 0) {\n      player.updateStyle({\n        backgroundPositionX: 0,\n      });\n    }\n    else if(currentD === 1) {\n      player.updateStyle({\n        backgroundPositionX: -68,\n      });\n    }\n    else if(currentD === 2) {\n      player.updateStyle({\n        backgroundPositionX: -136,\n      });\n    }\n    else if(currentD === 3) {\n      player.updateStyle({\n        backgroundPositionX: -204,\n      });\n    }\n    this['playerCurrentD' + index] = null;\n  }\n\n  getPosition(index) {\n    return this.state.position[index];\n  }\n\n  getDirection(index) {\n    return this['playerLastD' + index] || 0;\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: 'hidden',\n    }}>\n      {\n        this.state.list.map((item, i) => {\n          let y = -272 - i * 34;\n          return <div ref={'player' + i}\n                      style={{\n                        position: 'absolute',\n                        left: 0,\n                        top: 0,\n                        width: 32,\n                        height: 32,\n                        translateX: item[0] * 16,\n                        translateY: item[1] * 16,\n                      }}>\n            <span ref={'tank' + i}\n                  style={{\n                    position: 'absolute',\n                    left: 0,\n                    top: 0,\n                    width: '100%',\n                    height: '100%',\n                    background: `url(tank.png) no-repeat 0 ${y}`,\n                  }}/>\n            <span ref={'shield' + i}\n                  style={{\n                    position: 'absolute',\n                    left: 0,\n                    top: 0,\n                    width: '100%',\n                    height: '100%',\n                    background: `url(tank.png) no-repeat -476 -238`,\n                  }}/>\n          </div>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Player;\n","import karas from 'karas';\nimport eventBus from './eventBus';\nimport data from './data';\n\nfunction checkBox(position, direction, dx, dy, box) {\n  let [x, y] = position;\n  x += dx;\n  y += dy;\n  let [x1, y1, x2, y2] = box;\n  x1 *= 16;\n  y1 *= 16;\n  x2 *= 16;\n  y2 *= 16;\n  if(direction === 0) {\n    if(y - 4 <= y1) {\n      return true;\n    }\n  }\n  else if(direction === 1) {\n    if(x + 32 + 4 >= x2) {\n      return true;\n    }\n  }\n  else if(direction === 2) {\n    if(y + 32 + 4 >= y2) {\n      return true;\n    }\n  }\n  else if(direction === 3) {\n    if(x - 4 <= x1) {\n      return true;\n    }\n  }\n}\n\nfunction checkHit(position, direction, dx, dy, list) {\n  let [x, y] = position;\n  x += dx;\n  y += dy;\n  let res = [];\n  for(let i = 0, len = list.length; i < len; i++) {\n    let [x0, y0, disappear] = list[i];\n    if(disappear) {\n      continue;\n    }\n    let x1 = x0 * 16;\n    let y1 = y0 * 16;\n    let x2 = x1 + 16;\n    let y2 = y1 + 16;\n    if(direction === 0) {\n      if(y - 4 <= y2 && y + 4 >= y1 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push([x0, y0, x1, y1, x2, y2]);\n      }\n    }\n    else if(direction === 1) {\n      if(x + 36 >=x1 && x + 28 <= x2 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push([x0, y0, x1, y1, x2, y2]);\n      }\n    }\n    else if(direction === 2) {\n      if(y + 36 >= y1 && y + 28 <= y2 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push([x0, y0, x1, y1, x2, y2]);\n      }\n    }\n    else if(direction === 3) {\n      if(x - 4 <= x2 && x + 4 >= x1 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push([x0, y0, x1, y1, x2, y2]);\n      }\n    }\n  }\n  if(res.length) {\n    return res;\n  }\n}\n\nfunction emitHit(node, id, direction, dx, dy, type, data) {\n  let { left, top } = node.getComputedStyle();\n  let x = left + dx;\n  let y = top + dy;\n  if(direction === 0) {\n    x += 4;\n  }\n  else if(direction === 1) {\n    x += 8;\n    y += 4;\n  }\n  else if(direction === 2) {\n    x += 4;\n    y += 8;\n  }\n  else if(direction === 3) {\n    y += 4;\n  }\n  eventBus.emit(type, id, x, y, data);\n}\n\nlet uuid = 0;\nconst MOVE_PX = 4;\n\nclass Bullet extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      hash: {},\n    };\n  }\n\n  componentDidMount() {\n    eventBus.on(eventBus.GAMEING, () => {\n      this.state.show = true;\n      this.updateStyle({\n        visibility: 'visible',\n      });\n    });\n  }\n\n  move(index, position, direction) {\n    let id = uuid++;\n    let hash = this.state.hash;\n    let d = {\n      index,\n      position,\n      direction,\n      x: 0,\n      y: 0,\n    };\n    hash[id] = d;\n    this.setState({\n      hash,\n    }, () => {\n      let frame = () => {\n        let node = this.ref[id];\n        if(direction === 0) {\n          d.y -= MOVE_PX;\n          node.updateStyle({\n            translateY: d.y,\n          });\n        }\n        else if(direction === 1) {\n          d.x += MOVE_PX;\n          node.updateStyle({\n            translateX: d.x,\n          });\n        }\n        else if(direction === 2) {\n          d.y += MOVE_PX;\n          node.updateStyle({\n            translateY: d.y,\n          });\n        }\n        else if(direction === 3) {\n          d.x -= MOVE_PX;\n          node.updateStyle({\n            translateX: d.x,\n          });\n        }\n        if(checkBox(position, direction, d.x, d.y, data.current.box)) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_BOX);\n          karas.animate.frame.offFrame(frame);\n          delete hash[id];\n          this.setState({\n            hash,\n          });\n          return;\n        }\n        let brick = checkHit(position, direction, d.x, d.y, data.current.brick);\n        if(brick) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_BRICK, brick);\n          karas.animate.frame.offFrame(frame);\n          delete hash[id];\n          this.setState({\n            hash,\n          });\n          return;\n        }\n        let iron = checkHit(position, direction, d.x, d.y, data.current.iron);\n        if(iron) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_IRON, brick);\n          karas.animate.frame.offFrame(frame);\n          delete hash[id];\n          this.setState({\n            hash,\n          });\n          return;\n        }\n      }\n      karas.animate.frame.onFrame(frame);\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: this.state.show ? 'visible' : 'hidden',\n    }}>\n      {\n        Object.keys(this.state.hash).map(id => {\n          let data = this.state.hash[id];\n          let { position, direction, x, y } = data;\n          let left, top, background;\n          if(direction === 0) {\n            left = position[0] + 12;\n            top = position[1] - 4;\n            background = 'url(tank.png) no-repeat 0 -170px';\n          }\n          else if(direction === 1) {\n            left = position[0] + 28;\n            top = position[1] + 12;\n            background = 'url(tank.png) no-repeat -10px -179px';\n          }\n          else if(direction === 2) {\n            left = position[0] + 12;\n            top = position[1] + 28;\n            background = 'url(tank.png) no-repeat -10px -170px';\n          }\n          else if(direction === 3) {\n            left = position[0] - 4;\n            top = position[1] + 12;\n            background = 'url(tank.png) no-repeat 0 -179px';\n          }\n          return <span ref={id}\n                       key={id}\n                       style={{\n                         position: 'absolute',\n                         left,\n                         top,\n                         width: 8,\n                         height: 8,\n                         background,\n                         translateX: x,\n                         translateY: y,\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Bullet;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Hit extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hash: {},\n    };\n  }\n\n  componentDidMount() {\n    eventBus.on([eventBus.HIT_BOX, eventBus.HIT_BRICK, eventBus.HIT_IRON], (id, x, y) => {\n      let hash = this.state.hash;\n      hash[id] = {\n        x,\n        y,\n      };\n      this.setState({\n        hash,\n      }, () => {\n        let node = this.ref[id];\n        let a = node.animate([\n          {\n            visibility: 'visible',\n          },\n          {\n            visibility: 'visible',\n            backgroundPosition: '-748px -136px',\n          },\n        ], {\n          duration: 100,\n          iterations: 2,\n          direction: 'alternate',\n          easing: 'steps(2)',\n        });\n        // a.on('frame', () => {console.log(2, id);});\n        a.on('finish', () => {\n          delete hash[id];\n          this.setState({\n            hash,\n          });\n        });\n      });\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n    }}>\n      {\n        Object.keys(this.state.hash).map(id => {\n          let d = this.state.hash[id];\n          return <span ref={id}\n                       key={id}\n                       style={{\n                         position: 'absolute',\n                         left: d.x,\n                         top: d.y,\n                         width: 32,\n                         height: 32,\n                         translateX: '-50%',\n                         translateY: '-50%',\n                         background: 'url(tank.png) no-repeat -680px -136px',\n                         visibility: 'hidden',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Hit;\n","import Menu from './Menu';\nimport StageNum from './StageNum';\nimport Box from './Box';\nimport Brick from './Brick';\nimport Iron from './Iron';\nimport Fade from './Fade';\nimport Player from './Player';\nimport Bullet from './Bullet';\nimport Hit from './Hit';\nimport eventBus from './eventBus';\nimport data from './data';\n\nlet root = karas.render(\n  <canvas width={600} height={600}>\n    <Box ref=\"box\"/>\n    <Brick ref=\"brick\"/>\n    <Iron ref=\"iron\"/>\n    <Player ref=\"player\"/>\n    <Fade ref=\"fade\"/>\n    <Bullet ref=\"bullet\"/>\n    <Hit ref=\"hit\"/>\n    <Menu ref=\"menu\"/>\n    <StageNum ref=\"stageNum\"/>\n  </canvas>,\n  '#canvas'\n);\n\ndocument.addEventListener('keydown', function(e) {\n  let keyCode = e.keyCode;\n  // console.warn(e.keyCode, eventBus.gameState);\n  if(eventBus.gameState === eventBus.MENUING) {\n    if(keyCode === 87 || keyCode === 83) {\n      root.ref.menu.altPlayerNum();\n    }\n    else if(e.keyCode === 74 || e.keyCode === 13) {\n      eventBus.gameState = eventBus.BEFORE_GAME;\n      let currentData = data.current = karas.util.clone(data[0]);\n      root.ref.stageNum.show(1);\n      root.ref.brick.setState({\n        list: currentData.brick,\n      });\n      root.ref.iron.setState({\n        list: currentData.iron,\n      });\n      root.ref.player.setState({\n        list: currentData.player,\n        position: currentData.player.map(item => {\n          return item.map(n => n * 16);\n        }),\n      });\n    }\n  }\n  else if(eventBus.gameState === eventBus.GAMEING) {\n    if(keyCode === 87) {\n      root.ref.player.move(0, 0);\n    }\n    else if(keyCode === 68) {\n      root.ref.player.move(0, 1);\n    }\n    else if(keyCode === 83) {\n      root.ref.player.move(0, 2);\n    }\n    else if(keyCode === 65) {\n      root.ref.player.move(0, 3);\n    }\n    else if(keyCode === 74) {\n      let position = root.ref.player.getPosition(0);\n      let direction = root.ref.player.getDirection(0);\n      root.ref.bullet.move(0, position.slice(0), direction);\n    }\n  }\n});\n\ndocument.addEventListener('keyup', function(e) {\n  let keyCode = e.keyCode;\n  if(eventBus.gameState === eventBus.GAMEING) {\n    if(keyCode === 87) {\n      root.ref.player.stop(0);\n    }\n    else if(keyCode === 68) {\n      root.ref.player.stop(0);\n    }\n    else if(keyCode === 83) {\n      root.ref.player.stop(0);\n    }\n    else if(keyCode === 65) {\n      root.ref.player.stop(0);\n    }\n  }\n});\n"],"names":["current","eventBus","karas","Event","BEFORE_MENU","MENUING","BEFORE_GAME","WILL_GAME","GAMEING","gameState","HIT_BOX","HIT_BRICK","HIT_IRON","Menu","props","playerNum","sr","shadowRoot","tank","ref","animation","animate","translateY","duration","fill","tankAnimation","on","emit","updateStyle","visibility","backgroundPositionX","iterations","Infinity","easing","direction","pause","n","position","left","top","width","height","translateX","background","Component","StageNum","prpos","state","num","setState","a","bottom","text","setTimeout","fontSize","fontWeight","Box","list","data","box","home","Brick","id","x","y","hash","forEach","item","push","i","len","length","hasOwnProperty","indexOf","display","map","Fade","enemy","player","show","node","backgroundPosition","MOVE_PX","checkBox","tx1","ty1","tx2","ty2","x1","y1","x2","y2","checkMove","disappear","Player","shield","fadeIn","opacity","removeAnimate","index","currentD","clearAnimate","frame","brick","iron","cb","frameDrop","offFrame","getComputedStyle","onFrame","animationList","dx","dy","checkHit","res","x0","y0","emitHit","type","uuid","Bullet","d","Object","keys","Hit","root","render","Iron","document","addEventListener","e","keyCode","menu","altPlayerNum","currentData","util","clone","stageNum","move","getPosition","getDirection","bullet","slice","stop"],"mappings":"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"}