{"version":3,"file":"index.js","sources":["src/data.js","src/eventBus.js","src/Menu.js","src/StageNum.js","src/GameOver.js","src/Box.js","src/Brick.js","src/Iron.js","src/Fade.js","src/util.js","src/Player.js","src/Enemy.js","src/Bullet.js","src/Hit.js","src/Boom.js","src/index.js"],"sourcesContent":["export default {\n  \"0\": {\n    \"brick\": [[7, 4], [7, 5], [7, 6], [7, 7], [7, 8], [7, 9], [7, 10], [7, 11], [8, 4], [8, 5], [8, 6], [8, 7], [8, 8], [8, 9], [8, 10], [8, 11], [11, 4], [12, 4], [12, 5], [11, 5], [11, 6], [12, 6], [12, 7], [11, 7], [11, 8], [12, 8], [12, 9], [11, 9], [11, 10], [12, 10], [11, 11], [12, 11], [9, 14], [9, 15], [10, 15], [10, 14], [11, 14], [11, 15], [12, 15], [12, 14], [7, 18], [8, 18], [7, 19], [8, 19], [7, 20], [8, 20], [7, 21], [8, 21], [7, 22], [8, 22], [7, 23], [8, 23], [7, 24], [8, 24], [7, 25], [8, 25], [11, 18], [12, 18], [12, 19], [12, 20], [12, 21], [12, 22], [11, 22], [11, 20], [11, 19], [11, 21], [11, 23], [12, 23], [12, 24], [11, 24], [11, 25], [12, 25], [15, 9], [16, 9], [16, 8], [15, 8], [15, 7], [16, 7], [16, 6], [15, 6], [15, 5], [15, 4], [16, 4], [16, 5], [19, 9], [20, 9], [20, 8], [19, 8], [19, 7], [20, 7], [20, 6], [19, 6], [19, 5], [19, 4], [20, 4], [20, 5], [15, 12], [15, 13], [16, 13], [16, 12], [19, 12], [19, 13], [20, 13], [20, 12], [15, 17], [15, 16], [16, 16], [16, 17], [15, 18], [16, 18], [15, 19], [16, 19], [15, 20], [16, 20], [15, 21], [16, 21], [15, 22], [16, 22], [19, 16], [20, 16], [20, 17], [19, 17], [19, 18], [20, 18], [20, 19], [19, 19], [19, 20], [20, 20], [20, 21], [19, 21], [19, 22], [20, 22], [17, 17], [18, 17], [18, 18], [17, 18], [23, 4], [24, 4], [23, 5], [24, 5], [24, 6], [23, 6], [23, 8], [23, 7], [24, 7], [24, 8], [23, 9], [24, 9], [23, 10], [24, 10], [23, 11], [24, 11], [27, 4], [28, 4], [28, 5], [27, 5], [27, 6], [28, 6], [28, 7], [27, 7], [27, 8], [28, 8], [28, 9], [27, 10], [27, 9], [28, 10], [27, 11], [28, 11], [23, 14], [23, 15], [24, 14], [24, 15], [26, 14], [26, 15], [25, 15], [25, 14], [23, 18], [24, 18], [23, 19], [24, 19], [23, 20], [24, 20], [23, 21], [24, 21], [23, 22], [24, 22], [23, 23], [24, 23], [23, 24], [24, 24], [23, 25], [24, 25], [27, 18], [28, 18], [27, 19], [28, 19], [27, 20], [28, 20], [27, 21], [28, 21], [27, 22], [28, 22], [27, 23], [28, 23], [27, 25], [28, 25], [28, 24], [27, 24], [29, 14], [30, 14], [6, 14], [5, 14], [16, 25], [17, 25], [18, 25], [19, 25], [16, 26], [16, 27], [19, 26], [19, 27]],\n    \"iron\": [[30, 15], [29, 15], [6, 15], [5, 15], [17, 7], [18, 7], [18, 8], [17, 8]],\n    \"home\": [[17, 26]],\n    \"player\": [[13, 26, 2, 1], [21, 26, 2, 1]],\n    \"enemy\": [[5, 2, 0, 0], [17, 2, 1, 0], [29, 2, 2, 0], [5, 2, 0, 0], [17, 2, 1, 0], [29, 2, 2, 0], [5, 2, 0, 0], [17, 2, 1, 0], [29, 2, 2, 0], [5, 2, 0, 0], [17, 2, 1, 0], [29, 2, 2, 0]],\n    \"box\": [5, 2, 31, 28]\n  },\n  current: null,\n};\n","import karas from 'karas';\nimport data from './data';\n\nlet eventBus = new karas.Event();\n\neventBus.BEFORE_MENU = 0;\neventBus.MENUING = 1;\neventBus.BEFORE_GAME = 2;\neventBus.WILL_GAME = 3;\neventBus.GAMEING = 4;\neventBus.GAME_OVER = 5;\neventBus.GAME_OVER_WAIT = 6;\n\neventBus.gameState = eventBus.BEFORE_MENU;\neventBus.activeEnemyNum = 0;\n\neventBus.HIT_BOX = 'HIT_BOX';\neventBus.HIT_BRICK = 'HIT_BRICK';\neventBus.HIT_IRON = 'HIT_IRON';\neventBus.HIT_ENEMY = 'HIT_ENEMY';\neventBus.HIT_HOME = 'HIT_HOME';\neventBus.HIT_US = 'HIT_US';\neventBus.HIT_US_BY_US = 'HIT_US_BY_US';\n\neventBus.ADD_ENEMY = 'ADD_ENEMY';\neventBus.ENEMY_FIRE = 'ENEMY_FIRE';\n\neventBus.PLAY_REBONE = 'PLAY_REBONE';\n\nexport default eventBus;\n","import karas from 'karas';\nimport eventBus from './eventBus';\n\nclass Menu extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.playerNum = 1;\n  }\n\n  componentDidMount() {\n    let sr = this.shadowRoot;\n    let tank = this.ref.tank;\n    let animation = this.animation = sr.animate([\n      {},\n      {\n        translateY: '-50%',\n      }\n    ], {\n      duration: 1200,\n      fill: 'forwards',\n    });\n    let tankAnimation;\n    // 上移结束显示选择tank\n    animation.on('finish', () => {\n      this.animation = null;\n      eventBus.emit(eventBus.MENUING);\n      eventBus.gameState = eventBus.MENUING;\n      tank.updateStyle({\n        visibility: 'inherit',\n      });\n      tankAnimation = tank.animate([\n        {},\n        {\n          backgroundPositionX: -102,\n        }\n      ], {\n        duration: 100,\n        iterations: Infinity,\n        easing: 'steps(1)',\n        direction: 'alternate-reverse',\n      });\n    });\n    // 开始游戏隐藏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.updateStyle({\n        visibility: 'hidden',\n      });\n      sr.clearAnimate();\n      tankAnimation.pause();\n    });\n  }\n\n  show() {\n    this.updateStyle({\n      visibility: 'visible',\n    });\n    this.componentDidMount();\n  }\n\n  fastShow() {\n    if(this.animation) {\n      this.animation.finish();\n      this.animation = null;\n    }\n  }\n\n  altPlayerNum() {\n    let n = this.playerNum = this.playerNum === 2 ? 1 : 2;\n    if(n === 2) {\n      this.ref.tank.updateStyle({\n        translateY: 32,\n      });\n    }\n    else {\n      this.ref.tank.updateStyle({\n        translateY: 0,\n      });\n    }\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: '50%',\n      top: '50%',\n      width: 396,\n      height: 302,\n      translateX: '-50%',\n      translateY: 300,\n    }}>\n      <img src=\"menu.png\"\n           style={{\n             width: '100%',\n             height: '100%',\n           }}/>\n      <div ref=\"tank\"\n           style={{\n             position: 'absolute',\n             left: 100,\n             top: 216,\n             width: 32,\n             height: 32,\n             background: 'url(tank.png) no-repeat -68px -272px',\n             visibility: 'hidden',\n           }}/>\n    </div>;\n  }\n}\n\nexport default Menu;\n","import karas from 'karas';\nimport eventBus from './eventBus';\n\nclass StageNum extends karas.Component {\n  constructor(prpos) {\n    super(prpos);\n    this.state = {\n      num: 1,\n    };\n  }\n\n  show(num) {\n    // 设置数字\n    this.setState({\n      num,\n    }, () => {\n      // 上下遮盖屏幕动画\n      this.ref.top.animate([\n        {\n          translateY: '-100%',\n        },\n        {\n          translateY: 0,\n        },\n      ], {\n        duration: 300,\n        fill: 'forwards',\n      });\n      let a = this.ref.bottom.animate([\n        {\n          translateY: '100%',\n        },\n        {\n          translateY: 0,\n        },\n      ], {\n        duration: 300,\n        fill: 'forwards',\n      });\n      // 遮盖完成显示局数\n      a.on('finish', () => {\n        this.ref.text.updateStyle({\n          visibility: 'visible',\n        }, () => {\n          eventBus.gameState = eventBus.WILL_GAME;\n          eventBus.emit(eventBus.WILL_GAME);\n          // 等待1s\n          setTimeout(() => {\n            // 隐藏主tank菜单和局数，显示游戏主场景\n            this.ref.text.updateStyle({\n              visibility: 'hidden',\n            });\n            // 打开遮盖\n            this.ref.top.animate([\n              {\n                translateY: 0,\n              },\n              {\n                translateY: '-100%',\n              },\n            ], {\n              duration: 300,\n              fill: 'forwards',\n            });\n            let a = this.ref.bottom.animate([\n              {\n                translateY: 0,\n              },\n              {\n                translateY: '100%',\n              },\n            ], {\n              duration: 300,\n              fill: 'forwards',\n            });\n            // 开始游戏\n            a.on('finish', () => {\n              eventBus.emit(eventBus.GAMEING);\n              eventBus.gameState = eventBus.GAMEING;\n            });\n          }, 1000);\n        });\n      });\n    });\n  }\n\n  render() {\n    return <div style={{\n                  position: 'absolute',\n                  left: 0,\n                  top: 0,\n                  width: '100%',\n                  height: '100%',\n                }}>\n      <span ref=\"top\"\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: 0,\n              width: '100%',\n              height: '50%',\n              background: '#ccc',\n              translateY: '-100%',\n            }}/>\n      <span ref=\"bottom\"\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: '50%',\n              width: '100%',\n              height: '50%',\n              background: '#ccc',\n              translateY: '100%',\n            }}/>\n      <span ref=\"text\"\n            style={{\n              position: 'absolute',\n              left: '50%',\n              top: '50%',\n              translateX: '-50%',\n              translateY: '-50%',\n              visibility: 'hidden',\n              fontSize: 48,\n              fontWeight: 700,\n            }}>Stage {this.state.num || 1}</span>\n    </div>;\n  }\n}\n\nexport default StageNum;\n","import karas from 'karas';\nimport eventBus from './eventBus';\n\nclass GameOver extends karas.Component {\n  constructor(prpos) {\n    super(prpos);\n    this.state = {\n      show: false,\n    };\n  }\n\n  componentDidMount() {\n    eventBus.on(eventBus.HIT_HOME, () => {\n      eventBus.gameState = eventBus.GAME_OVER;\n      this.setState({\n        show: true,\n      }, () => {\n        let a = this.shadowRoot.animate([\n          {},\n          {\n            translateY: '0%',\n          },\n        ], {\n          duration: 2000,\n          fill: 'forwards',\n        });\n        a.on('finish', () => {\n          eventBus.gameState = eventBus.GAME_OVER_WAIT;\n        });\n      });\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      display: this.state.show ? 'block' : 'none',\n      width: '100%',\n      height: '100%',\n      translateY: '100%',\n    }}>\n      <span ref=\"text\"\n            style={{\n              position: 'absolute',\n              left: '50%',\n              top: '50%',\n              width: 62,\n              height: 30,\n              background: 'url(tank.png) no-repeat -138 -137',\n              translateX: '-50%',\n              translateY: '-50%',\n            }}/>\n    </div>;\n  }\n}\n\nexport default GameOver;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Box extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      list: [],\n      home: [],\n      fail: false,\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.setState({\n        show: true,\n        list: data.current.box,\n        home: data.current.home,\n        fail: false,\n      });\n    });\n    eventBus.on(eventBus.HIT_HOME, () => {\n      this.state.home.forEach(item => item.push(true));\n      this.setState({\n        fail: true,\n      });\n    });\n  }\n\n  render() {\n    let list = this.state.list;\n    let home = this.state.home;\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      background: '#999',\n      visibility: this.state.show ? 'visible' : 'hidden',\n    }}>\n      {\n        list.length ? <span style={{\n          position: 'absolute',\n          left: list[0] * 16,\n          top: list[1] * 16,\n          width: (list[2] - list[0]) * 16,\n          height: (list[3] - list[1]) * 16,\n          background: '#111',\n        }}/> : null\n      }\n      {\n        home.map(item => {\n          let p = this.state.fail ? '-680px -170px' : '-646px -170px';\n          return <span style={{\n            position: 'absolute',\n            left: item[0] * 16,\n            top: item[1] * 16,\n            width: 32,\n            height: 32,\n            background: `url(tank.png) no-repeat ${p}`,\n          }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Box;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Brick extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      list: [],\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.setState({\n        show: true,\n        list: data.current.brick,\n      });\n    });\n    eventBus.on(eventBus.HIT_BRICK, (id, x, y, data) => {\n      let hash = {};\n      data.forEach(item => {\n        hash[item[0]] = hash[item[0]] || [];\n        hash[item[0]].push(item[1]);\n      });\n      for(let list = this.state.list, i = 0, len = list.length; i < len; i++) {\n        let item = list[i];\n        if(!item[2] && hash.hasOwnProperty(item[0]) && hash[item[0]].indexOf(item[1]) > -1) {\n          item.push(true);\n          this.ref[item[0] + ',' + item[1]].updateStyle({\n            display: 'none',\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: this.state.show ? 'visible' : 'hidden',\n    }}>\n      {\n        this.state.list.map(item => {\n          let [x, y] = item;\n          let left = x * 16;\n          let top = y * 16;\n          return <span ref={x + ',' + y}\n                       style={{\n                         position: 'absolute',\n                         left,\n                         top,\n                         width: 16,\n                         height: 16,\n                         background: 'url(tank.png) no-repeat -612px -170px',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Brick;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Brick extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      list: [],\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      this.setState({\n        show: true,\n        list: data.current.iron,\n      });\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: this.state.show ? 'visible' : 'hidden',\n    }}>\n      {\n        this.state.list.map(item => {\n          let [x, y] = item;\n          let left = x * 16;\n          let top = y * 16;\n          return <span ref={x + ',' + y}\n                       style={{\n                         position: 'absolute',\n                         left,\n                         top,\n                         width: 16,\n                         height: 16,\n                         background: 'url(tank.png) no-repeat 0 -204px',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Brick;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\n\nclass Fade extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      enemy: [],\n      player: [],\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.WILL_GAME, () => {\n      eventBus.activeEnemyNum = 0;\n      this.setState({\n        enemy: data.current.enemy,\n        player: data.current.player,\n      });\n    });\n    eventBus.on(eventBus.GAMEING, () => {\n      this.show('player', 0);\n      this.show('player', 1);\n      let count = 0;\n      let interval = setInterval(() => {\n        if(eventBus.gameState !== eventBus.GAMEING) {\n          clearInterval(interval);\n          return;\n        }\n        // 限制数量\n        if(eventBus.activeEnemyNum >= 5) {\n          return;\n        }\n        eventBus.activeEnemyNum++;\n        let id = count++;\n        setTimeout(function() {\n          eventBus.emit(eventBus.ADD_ENEMY, id);\n        }, 1500);\n        this.show('enemy', id % 3);\n        if(count >= 6) {\n          clearInterval(interval);\n        }\n      }, 3000);\n    });\n    eventBus.on(eventBus.PLAY_REBONE, (i) => {\n      this.show('player', i);\n    });\n  }\n\n  show(name, i) {\n    let node = this.ref[name + i];\n    node.animate([\n      {\n        visibility: 'visible',\n        backgroundPosition: '-204 0',\n      },\n      {\n        visibility: 'visible',\n        backgroundPosition: '0 0',\n      },\n    ], {\n      duration: 300,\n      iterations: 6,\n      direction: 'alternate',\n      easing: 'steps(6)',\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      opacity: 0.9,\n    }}>\n      {\n        this.state.enemy.map((item, i) => {\n          return <span ref={'enemy' + i}\n                       style={{\n                         position: 'absolute',\n                         left: item[0] * 16,\n                         top: item[1] * 16,\n                         width: 32,\n                         height: 32,\n                         background: 'url(tank.png) no-repeat -204 0',\n                       }}/>;\n        })\n      }\n      {\n        this.state.player.map((item, i) => {\n          return <span ref={'player' + i}\n                       style={{\n                         position: 'absolute',\n                         left: item[0] * 16,\n                         top: item[1] * 16,\n                         width: 32,\n                         height: 32,\n                         background: 'url(tank.png) no-repeat -204 0',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Fade;\n","function checkBox(tx1, ty1, direction, box) {\n  let tx2 = tx1 + 32;\n  let ty2 = ty1 + 32;\n  let [x1, y1, x2, y2] = box;\n  x1 *= 16;\n  y1 *= 16;\n  x2 *= 16;\n  y2 *= 16;\n  if(direction === 0) {\n    if(y1 === ty1) {\n      return true;\n    }\n  }\n  else if(direction === 1) {\n    if(x2 === tx2) {\n      return true;\n    }\n  }\n  else if(direction === 2) {\n    if(y2 === ty2) {\n      return true;\n    }\n  }\n  else if(direction === 3) {\n    if(x1 === tx1) {\n      return true;\n    }\n  }\n}\n\nfunction checkMove(tx1, ty1, direction, list) {\n  let tx2 = tx1 + 32;\n  let ty2 = ty1 + 32;\n  for(let i = 0, len = list.length; i < len; i++) {\n    let [x1, y1, disappear] = list[i];\n    if(disappear) {\n      continue;\n    }\n    x1 *= 16;\n    y1 *= 16;\n    let x2 = x1 + 16;\n    let y2 = y1 + 16;\n    if(direction === 0) {\n      if(x1 < tx2 && x2 > tx1 && ty1 - y2 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 1) {\n      if(y1 < ty2 && y2 > ty1 && tx2 - x1 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 2) {\n      if(x1 < tx2 && x2 > tx1 && ty2 - y1 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 3) {\n      if(y1 < ty2 && y2 > ty1 && tx1 - x2 === 0) {\n        return true;\n      }\n    }\n  }\n}\n\nfunction checkEnemy(tx1, ty1, direction, index, list) {\n  let tx2 = tx1 + 32;\n  let ty2 = ty1 + 32;\n  for(let i = 0, len = list.length; i < len; i++) {\n    // 自己\n    if(i === index) {\n      continue;\n    }\n    let item = list[i];\n    // 死tank或无\n    if(item[3] === 2) {\n      continue;\n    }\n    let x1 = item[5];\n    let y1 = item[6];\n    let x2 = x1 + 32;\n    let y2 = y1 + 32;\n    if(direction === 0) {\n      if(x1 < tx2 && x2 > tx1 && ty1 <= y2 && ty1 >= y1) {\n        return true;\n      }\n    }\n    else if(direction === 1) {\n      if(y1 < ty2 && y2 > ty1 && tx2 >= x1 && tx2 <= x2) {\n        return true;\n      }\n    }\n    else if(direction === 2) {\n      if(x1 < tx2 && x2 > tx1 && ty2 >= y1 && ty2 <= y2) {\n        return true;\n      }\n    }\n    else if(direction === 3) {\n      if(y1 < ty2 && y2 > ty1 && tx1 <= x2 && tx1 >= x1) {\n        return true;\n      }\n    }\n  }\n}\n\nfunction checkUs(tx1, ty1, direction, index, list) {\n  let tx2 = tx1 + 32;\n  let ty2 = ty1 + 32;\n  for(let i = 0, len = list.length; i < len; i++) {\n    let item = list[i];\n    // 自己\n    if(index === i) {\n      continue;\n    }\n    // 没命\n    if(item[2] === 0) {\n      continue;\n    }\n    let x1 = item[5];\n    let y1 = item[6];\n    let x2 = x1 + 32;\n    let y2 = y1 + 32;\n    if(direction === 0) {\n      if(x1 < tx2 && x2 > tx1 && ty1 <= y2 && ty1 >= y1) {\n        return true;\n      }\n    }\n    else if(direction === 1) {\n      if(y1 < ty2 && y2 > ty1 && tx2 >= x1 && tx2 <= x2) {\n        return true;\n      }\n    }\n    else if(direction === 2) {\n      if(x1 < tx2 && x2 > tx1 && ty2 >= y1 && ty2 <= y2) {\n        return true;\n      }\n    }\n    else if(direction === 3) {\n      if(y1 < ty2 && y2 > ty1 && tx1 <= x2 && tx1 >= x1) {\n        return true;\n      }\n    }\n  }\n}\n\nfunction checkHome(tx1, ty1, direction, list) {\n  let tx2 = tx1 + 32;\n  let ty2 = ty1 + 32;\n  for(let i = 0, len = list.length; i < len; i++) {\n    let item = list[i];\n    let x1 = item[0] * 16;\n    let y1 = item[1] * 16;\n    let x2 = x1 + 32;\n    let y2 = y1 + 32;\n    if(direction === 0) {\n      if(x1 < tx2 && x2 > tx1 && ty1 - y2 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 1) {\n      if(y1 < ty2 && y2 > ty1 && tx2 - x1 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 2) {\n      if(x1 < tx2 && x2 > tx1 && ty2 - y1 === 0) {\n        return true;\n      }\n    }\n    else if(direction === 3) {\n      if(y1 < ty2 && y2 > ty1 && tx1 - x2 === 0) {\n        return true;\n      }\n    }\n  }\n}\n\nexport default {\n  checkBox,\n  checkMove,\n  checkEnemy,\n  checkUs,\n  checkHome,\n};\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\nimport util from './util';\n\nconst MOVE_PX = 2;\nconst PROTECT_COUNT = 32;\n\nclass Player extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      list: [], // 0,1方块位置x,y；2命数，3状态012无保护定，4type,5,6坐标位置x,y\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.GAMEING, () => {\n      let list = data.current.player;\n      this.setState({\n        show: true,\n        list,\n      }, () => {\n        this.state.list.forEach((item, i) => {\n          let player = this.ref['player' + i];\n          let shield = this.ref['shield' + i];\n          player.clearAnimate();\n          item[3] = 1;\n          let fadeIn = player.animate([\n            {\n              opacity: 0.85,\n            },\n            {\n              opacity: 0.7,\n            },\n          ], {\n            duration: 100,\n            iterations: PROTECT_COUNT,\n            direction: 'alternate',\n            easing: 'steps(2)',\n          });\n          fadeIn.on('finish', () => {\n            player.removeAnimate(fadeIn);\n            item[3] = 0;\n          });\n          shield.clearAnimate();\n          shield.animate([\n            {\n              backgroundPosition: '-442 -238',\n            },\n            {\n              backgroundPosition: '-510 -238',\n            },\n          ], {\n            duration: 100,\n            iterations: PROTECT_COUNT,\n            direction: 'alternate',\n            easing: 'steps(2)',\n          });\n        });\n      });\n    });\n    eventBus.on(eventBus.HIT_US, (id, x, y, us) => {\n      us.forEach(item => {\n        let i;\n        if(item === this.state.list[0]) {\n          i = 0;\n        }\n        else if(item === this.state.list[1]) {\n          i = 1;\n        }\n        if(i !== undefined) {\n          let item = this.state.list[i];\n          let player = this.ref['player' + i];\n          if(item[3] === 1) {\n            return;\n          }\n          let life = item[2]--;\n          if(life < 0) {\n            player.updateStyle({\n              visibility: 'hidden',\n            });\n            return;\n          }\n          eventBus.emit(eventBus.PLAY_REBONE, i);\n          let shield = this.ref['shield' + i];\n          item[3] = 1;\n          let tx = item[5] = item[0] * 16;\n          let ty = item[6] = item[1] * 16;\n          player.updateStyle({\n            translateX: tx,\n            translateY: ty,\n          });\n          player.clearAnimate();\n          let fadeIn = player.animate([\n            {\n              opacity: 0.85,\n            },\n            {\n              opacity: 0.7,\n            },\n          ], {\n            duration: 100,\n            iterations: 32,\n            direction: 'alternate',\n            easing: 'steps(2)',\n          });\n          fadeIn.on('finish', () => {\n            player.removeAnimate(fadeIn);\n            item[3] = 0;\n          });\n          shield.clearAnimate();\n          shield.animate([\n            {\n              backgroundPosition: '-442 -238',\n            },\n            {\n              backgroundPosition: '-510 -238',\n            },\n          ], {\n            duration: 100,\n            iterations: 32,\n            direction: 'alternate',\n            easing: 'steps(2)',\n          });\n        }\n      });\n    });\n    eventBus.on(eventBus.HIT_US_BY_US, (id, x, y, us) => {\n      us.forEach(item => {\n        let i;\n        if(item === this.state.list[0]) {\n          i = 0;\n        }\n        else if(item === this.state.list[1]) {\n          i = 1;\n        }\n        if(i !== undefined) {\n          let item = this.state.list[i];\n          let player = this.ref['player' + i];\n          if(item[3] === 1) {\n            return;\n          }\n          // 2以上为定住，倒计时数字\n          if(item[3] > 1) {\n            item[3] = 200;\n            return;\n          }\n          item[3] = 200;\n          let cb = () => {\n            // 销毁结束\n            if(player.isDestroyed) {\n              karas.animate.frame.offFrame(cb);\n              return;\n            }\n            item[3]--;\n            let n = (item[3] - 2) % 16;\n            if(n < 8) {\n              player.updateStyle({\n                visibility: 'visible',\n              });\n            }\n            else {\n              player.updateStyle({\n                visibility: 'hidden',\n              });\n            }\n            if(item[3] === 2) {\n              item[3] = 0;\n              karas.animate.frame.offFrame(cb);\n            }\n          };\n          karas.animate.frame.onFrame(cb);\n        }\n      });\n    });\n  }\n\n  move(index, direction) {\n    let player = this.ref['player' + index];\n    let tank = this.ref['tank' + index];\n    if(!tank) {\n      return;\n    }\n    // 播放坦克移动本身帧动画\n    let currentD = this['playerCurrentD' + index];\n    if(currentD !== direction) {\n      this['playerCurrentD' + index] = direction;\n      tank.clearAnimate();\n      let frame = [];\n      if(direction === 0) {\n        frame = [\n          {\n            backgroundPositionX: 0,\n          },\n          {\n            backgroundPositionX: -34,\n          }\n        ];\n      }\n      else if(direction === 1) {\n        frame = [\n          {\n            backgroundPositionX: -68,\n          },\n          {\n            backgroundPositionX: -102,\n          }\n        ];\n      }\n      else if(direction === 2) {\n        frame = [\n          {\n            backgroundPositionX: -136,\n          },\n          {\n            backgroundPositionX: -170,\n          }\n        ];\n      }\n      else if(direction === 3) {\n        frame = [\n          {\n            backgroundPositionX: -204,\n          },\n          {\n            backgroundPositionX: -238,\n          }\n        ];\n      }\n      tank.animate(frame, {\n        duration: 100,\n        iterations: Infinity,\n        easing: 'steps(1)',\n        direction: 'alternate',\n      });\n    }\n    else {\n      return;\n    }\n    this['playerLastD' + index] = direction;\n    let cb = this['ma' + index];\n    karas.animate.frame.offFrame(cb);\n    // 检查是否被挡住\n    let item = this.state.list[index];\n    // 坦克坐标移动，没2帧移动1次2px，便于控制\n    let frameDrop = 0;\n    cb = this['ma' + index] = function() {\n      if(frameDrop++ < 1) {\n        return;\n      }\n      frameDrop = 0;\n      if(util.checkBox(item[5], item[6], direction, data.current.box)) {\n        return;\n      }\n      if(util.checkMove(item[5], item[6], direction, data.current.brick)) {\n        return;\n      }\n      if(util.checkMove(item[5], item[6], direction, data.current.iron)) {\n        return;\n      }\n      if(util.checkEnemy(item[5], item[6], direction, -1, data.current.enemy)) {\n        return;\n      }\n      if(util.checkUs(item[5], item[6], direction, index, data.current.player)) {\n        return;\n      }\n      if(util.checkHome(item[5], item[6], direction, data.current.home)) {\n        return;\n      }\n      if(direction === 0) {\n        item[6] -= MOVE_PX;\n        player.updateStyle({\n          translateY: item[6],\n        });\n      }\n      else if(direction === 1) {\n        item[5] += MOVE_PX;\n        player.updateStyle({\n          translateX: item[5],\n        });\n      }\n      else if(direction === 2) {\n        item[6] += MOVE_PX;\n        player.updateStyle({\n          translateY: item[6],\n        });\n      }\n      else if(direction === 3) {\n        item[5] -= MOVE_PX;\n        player.updateStyle({\n          translateX: item[5],\n        });\n      }\n    };\n    karas.animate.frame.onFrame(cb);\n  }\n\n  stop(index) {\n    let player = this.ref['player' + index];\n    let tank = this.ref['tank' + index];\n    let item = this.state.list[index];\n    tank.animationList.length && tank.animationList[0].pause();\n    let cb = this['ma' + index];\n    karas.animate.frame.offFrame(cb);\n    let currentD = this['playerCurrentD' + index];\n    // 停止朝向，同时为了便于控制，设置tank停止位置为4的倍数，容易转向\n    let x = item[5];\n    let y = item[6];\n    if(currentD === 0) {\n      player.updateStyle({\n        backgroundPositionX: 0,\n      });\n      if(y % 4 !== 0) {\n        item[6] -= MOVE_PX;\n        player.updateStyle({\n          translateY: item[6],\n        });\n      }\n    }\n    else if(currentD === 1) {\n      player.updateStyle({\n        backgroundPositionX: -68,\n      });\n      if(x % 4 !== 0) {\n        item[5] += MOVE_PX;\n        player.updateStyle({\n          translateX: item[5],\n        });\n      }\n    }\n    else if(currentD === 2) {\n      player.updateStyle({\n        backgroundPositionX: -136,\n      });\n      if(y % 4 !== 0) {\n        item[6] += MOVE_PX;\n        player.updateStyle({\n          translateY: item[6],\n        });\n      }\n    }\n    else if(currentD === 3) {\n      player.updateStyle({\n        backgroundPositionX: -204,\n      });\n      if(x % 4 !== 0) {\n        item[5] -= MOVE_PX;\n        player.updateStyle({\n          translateX: item[5],\n        });\n      }\n    }\n    this['playerCurrentD' + index] = null;\n  }\n\n  getPosition(index) {\n    return this.state.list[index].slice(5, 7);\n  }\n\n  getDirection(index) {\n    return this['playerLastD' + index] || 0;\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: this.state.show ? 'visible' : 'hidden',\n    }}>\n      {\n        this.state.list.map((item, i) => {\n          let py = -272 - i * 34;\n          let tx = item[5] = item[0] * 16;\n          let ty = item[6] = item[1] * 16;\n          return <div ref={'player' + i}\n                      style={{\n                        position: 'absolute',\n                        left: 0,\n                        top: 0,\n                        width: 32,\n                        height: 32,\n                        translateX: tx,\n                        translateY: ty,\n                      }}>\n            <span ref={'tank' + i}\n                  style={{\n                    position: 'absolute',\n                    left: 0,\n                    top: 0,\n                    width: '100%',\n                    height: '100%',\n                    background: `url(tank.png) no-repeat 0 ${py}`,\n                  }}/>\n            <span ref={'shield' + i}\n                  style={{\n                    position: 'absolute',\n                    left: 0,\n                    top: 0,\n                    width: '100%',\n                    height: '100%',\n                    background: `url(tank.png) no-repeat -476 -238`,\n                  }}/>\n          </div>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Player;\n","import karas from 'karas';\nimport data from './data';\nimport eventBus from './eventBus';\nimport util from './util';\n\nconst TURN_COUNT = {\n  0: 32,\n  1: 8,\n  2: 48,\n};\nconst MOVE_PX = {\n  0: 1,\n  1: 2,\n  2: 1,\n};\nconst ENEMY_FIRE_COUNT = 100;\n\nfunction getBgP(type, direction) {\n  let p = '-136 -68';\n  switch(type) {\n    case 0:\n      if(direction === 0) {\n        p = '0 -68';\n      }\n      else if(direction === 1) {\n        p = '-68 -68';\n      }\n      else if(direction === 2) {\n        p = '-136 -68';\n      }\n      else if(direction === 3) {\n        p = '-204 -68';\n      }\n      break;\n    case 1:\n      if(direction === 0) {\n        p = '-272 -68';\n      }\n      else if(direction === 1) {\n        p = '-340 -68';\n      }\n      else if(direction === 2) {\n        p = '-408 -68';\n      }\n      else if(direction === 3) {\n        p = '-476 -68';\n      }\n      break;\n    case 2:\n      if(direction === 0) {\n        p = '-544 -68';\n      }\n      else if(direction === 1) {\n        p = '-612 -68';\n      }\n      else if(direction === 2) {\n        p = '-680 -68';\n      }\n      else if(direction === 3) {\n        p = '-748 -68';\n      }\n      break;\n  }\n  return p;\n}\n\nclass Enemy extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      list: [], // 0,1方块位置x,y；2类型；3状态012新老死；4方向；5,6坐标位置x,y；7停止计时；8射击计时\n    };\n  }\n\n  componentDidMount() {\n    // 开始游戏\n    eventBus.on(eventBus.GAMEING, () => {\n      this.setState({\n        show: true,\n      });\n      // 坦克坐标移动\n      let cb = this.cb = () => {\n        this.state.list.forEach((item, i) => {\n          // console.log(item);\n          let [x, y, type, state, direction, px, py] = item;\n          // 防止死tank\n          if(state < 2) {\n            let tank = this.ref['tank' + i];\n            let movePx = MOVE_PX[type] || 1;\n            // 积累一定随机时间后开火\n            let fire = --item[8];console.log(fire);\n            if(fire === 0) {\n              item[8] = ENEMY_FIRE_COUNT + Math.floor(Math.random() * ENEMY_FIRE_COUNT);\n              eventBus.emit(eventBus.ENEMY_FIRE, i, [px, py], direction);\n            }\n            // 检测移动，积累count到一定后没有一定随机更换方向\n            if(util.checkBox(px, py, direction, data.current.box)\n              || util.checkMove(px, py, direction, data.current.brick)\n              || util.checkMove(px, py, direction, data.current.iron)\n              || util.checkEnemy(px, py, direction, i, data.current.enemy)\n              || util.checkUs(px, py, direction, -1, data.current.player)\n              || util.checkHome(px, py, direction, data.current.home)) {\n              let count = item[7]++;\n              if(count >= TURN_COUNT[type] || 1) {\n                item[7] = 0;\n                while(true) {\n                  let list = [0, 1, 2, 3];\n                  let i = Math.floor(Math.random() * list.length);\n                  let nd = item[4] = list[i];\n                  if(nd !== direction) {\n                    direction = item[4] = nd;\n                    break;\n                  }\n                }\n                let p = getBgP(type, direction);\n                tank.updateStyle({\n                  backgroundPosition: p,\n                });\n              }\n              return;\n            }\n            if(direction === 0) {\n              item[6] -= movePx;\n              tank.updateStyle({\n                translateY: item[6],\n              });\n            }\n            else if(direction === 1) {\n              item[5] += movePx;\n              tank.updateStyle({\n                translateX: item[5],\n              });\n            }\n            else if(direction === 2) {\n              item[6] += movePx;\n              tank.updateStyle({\n                translateY: item[6],\n              });\n            }\n            else if(direction === 3) {\n              item[5] -= movePx;\n              tank.updateStyle({\n                translateX: item[5],\n              });\n            }\n          }\n        });\n      };\n      karas.animate.frame.onFrame(cb);\n    });\n    eventBus.on(eventBus.ADD_ENEMY, (id) => {\n      let list = this.state.list;\n      let item = data.current.enemy[id];\n      list.push(item);\n      this.setState({\n        list,\n      });\n    });\n    eventBus.on(eventBus.HIT_ENEMY, (id, x, y, data) => {\n      for(let list = this.state.list, i = 0, len = list.length; i < len; i++) {\n        let item = list[i];\n        for(let j = 0, len2 = data.length; j < len2; j++) {\n          if(item === data[j]) {\n            item[3] = 2;\n            this.setState({\n              list,\n            });\n          }\n        }\n      }\n    });\n    eventBus.on(eventBus.BEFORE_MENU, () => {\n      karas.animate.frame.offFrame(this.cb);\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      visibility: this.state.show ? 'visible' : 'hidden',\n    }}>\n      {\n        this.state.list.map((item, i) => {\n          let [tx, ty, type, state, direction, px, py] = item;\n          // 死tank\n          if(state === 2) {\n            return null;\n          }\n          // 新出生的tank随机选个可用方向右下左\n          if(direction === undefined) {\n            let list = [1, 2, 3];\n            let i = Math.floor(Math.random() * list.length);\n            direction = list[i];\n          }\n          let p = getBgP(type, direction);\n          // 新出生的tank\n          if(state === 0) {\n            item[3] = 1; // 变老tank\n            item[4] = direction;\n            item[5] = px = tx * 16;\n            item[6] = py = ty * 16;\n            item[7] = 0; // 计时初始化\n            item[8] = Math.floor(Math.random() * ENEMY_FIRE_COUNT);\n          }\n          // 老tank\n          return <div ref={'tank' + i}\n                      key={i}\n                      style={{\n                        position: 'absolute',\n                        left: 0,\n                        top: 0,\n                        width: 32,\n                        height: 32,\n                        translateX: px,\n                        translateY: py,\n                        background: `url(tank.png) no-repeat ${p}`,\n                      }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Enemy;\n","import karas from 'karas';\nimport eventBus from './eventBus';\nimport data from './data';\n\nfunction checkBox(position, direction, dx, dy, box) {\n  let [x, y] = position;\n  x += dx;\n  y += dy;\n  let [x1, y1, x2, y2] = box;\n  x1 *= 16;\n  y1 *= 16;\n  x2 *= 16;\n  y2 *= 16;\n  if(direction === 0) {\n    if(y - 4 <= y1) {\n      return true;\n    }\n  }\n  else if(direction === 1) {\n    if(x + 32 + 4 >= x2) {\n      return true;\n    }\n  }\n  else if(direction === 2) {\n    if(y + 32 + 4 >= y2) {\n      return true;\n    }\n  }\n  else if(direction === 3) {\n    if(x - 4 <= x1) {\n      return true;\n    }\n  }\n}\n\nfunction checkHit(position, direction, dx, dy, list) {\n  let [x, y] = position;\n  x += dx;\n  y += dy;\n  let res = [];\n  for(let i = 0, len = list.length; i < len; i++) {\n    let [x0, y0, disappear] = list[i];\n    if(disappear) {\n      continue;\n    }\n    let x1 = x0 * 16;\n    let y1 = y0 * 16;\n    let x2 = x1 + 16;\n    let y2 = y1 + 16;\n    if(direction === 0) {\n      if(y - 4 <= y2 && y + 4 >= y1 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push([x0, y0]);\n      }\n    }\n    else if(direction === 1) {\n      if(x + 36 >=x1 && x + 28 <= x2 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push([x0, y0]);\n      }\n    }\n    else if(direction === 2) {\n      if(y + 36 >= y1 && y + 28 <= y2 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push([x0, y0]);\n      }\n    }\n    else if(direction === 3) {\n      if(x - 4 <= x2 && x + 4 >= x1 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push([x0, y0]);\n      }\n    }\n  }\n  if(res.length) {\n    return res;\n  }\n}\n\nfunction checkHitEnemy(position, direction, dx, dy, list) {\n  let [x, y] = position;\n  x += dx;\n  y += dy;\n  let res = [];\n  for(let i = 0, len = list.length; i < len; i++) {\n    let item = list[i];\n    // 只检查老tank，防止死tank和新tank和无和等\n    if(item[3] !== 1) {\n      continue;\n    }\n    let x1 = item[5];\n    let y1 = item[6];\n    let x2 = x1 + 32;\n    let y2 = y1 + 32;\n    if(direction === 0) {\n      if(y - 4 <= y2 && y + 4 >= y1 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push(item);\n      }\n    }\n    else if(direction === 1) {\n      if(x + 36 >= x1 && x + 28 <= x2 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push(item);\n      }\n    }\n    else if(direction === 2) {\n      if(y + 36 >= y1 && y + 28 <= y2 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push(item);\n      }\n    }\n    else if(direction === 3) {\n      if(x - 4 <= x2 && x + 4 >= x1 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push(item);\n      }\n    }\n  }\n  if(res.length) {\n    return res;\n  }\n}\n\nfunction checkHitUs(position, direction, dx, dy, index, list) {\n  let [x, y] = position;\n  x += dx;\n  y += dy;\n  let res = [];\n  for(let i = 0, len = list.length; i < len; i++) {\n    // 自己\n    if(index === i) {\n      continue;\n    }\n    let item = list[i];\n    // 防止自己没命了\n    if(item[2] === 0) {\n      continue;\n    }\n    let x1 = item[5];\n    let y1 = item[6];\n    let x2 = x1 + 32;\n    let y2 = y1 + 32;\n    if(direction === 0) {\n      if(y - 4 <= y2 && y + 4 >= y1 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push(item);\n      }\n    }\n    else if(direction === 1) {\n      if(x + 36 >= x1 && x + 28 <= x2 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push(item);\n      }\n    }\n    else if(direction === 2) {\n      if(y + 36 >= y1 && y + 28 <= y2 && x + 20 >= x1 && x + 12 <= x2) {\n        res.push(item);\n      }\n    }\n    else if(direction === 3) {\n      if(x - 4 <= x2 && x + 4 >= x1 && y + 20 >= y1 && y + 12 <= y2) {\n        res.push(item);\n      }\n    }\n  }\n  if(res.length) {\n    return res;\n  }\n}\n\nfunction emitHit(node, id, direction, dx, dy, type, data) {\n  let { left, top } = node.getComputedStyle();\n  let x = left + dx;\n  let y = top + dy;\n  if(direction === 0) {\n    x += 4;\n  }\n  else if(direction === 1) {\n    x += 8;\n    y += 4;\n  }\n  else if(direction === 2) {\n    x += 4;\n    y += 8;\n  }\n  else if(direction === 3) {\n    y += 4;\n  }\n  eventBus.emit(type, id, x, y, data);\n}\n\nfunction removeBullet(target, id) {\n  for(let i = 0, len = target.length; i < len; i++) {\n    if(target[i].id === id) {\n      target.splice(i, 1);\n      return;\n    }\n  }\n}\n\nlet uuid = 0;\nlet limit = {};\nconst MOVE_PX = 4;\n\nclass Bullet extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hash: {},\n    };\n  }\n\n  componentDidMount() {\n    eventBus.on(eventBus.ENEMY_FIRE, (id, position, direction) => {\n      let hash = this.state.hash;\n      id += ',' + uuid++;\n      let d = {\n        id,\n        position,\n        direction,\n        x: 0,\n        y: 0,\n        enemy: true,\n      };\n      hash[id] = d;\n      this.setState({\n        hash,\n      }, () => {\n        // 子弹每帧移动\n        let frame = () => {\n          let node = this.ref[id];\n          if(direction === 0) {\n            d.y -= MOVE_PX;\n            node.updateStyle({\n              translateY: d.y,\n            });\n          }\n          else if(direction === 1) {\n            d.x += MOVE_PX;\n            node.updateStyle({\n              translateX: d.x,\n            });\n          }\n          else if(direction === 2) {\n            d.y += MOVE_PX;\n            node.updateStyle({\n              translateY: d.y,\n            });\n          }\n          else if(direction === 3) {\n            d.x -= MOVE_PX;\n            node.updateStyle({\n              translateX: d.x,\n            });\n          }\n          // 校验碰撞\n          let box = checkBox(position, direction, d.x, d.y, data.current.box);\n          if(box) {\n            emitHit(node, id, direction, d.x, d.y, eventBus.HIT_BOX);\n          }\n          let brick = checkHit(position, direction, d.x, d.y, data.current.brick);\n          if(brick) {\n            emitHit(node, id, direction, d.x, d.y, eventBus.HIT_BRICK, brick);\n          }\n          let iron = checkHit(position, direction, d.x, d.y, data.current.iron);\n          if(iron) {\n            emitHit(node, id, direction, d.x, d.y, eventBus.HIT_IRON, brick);\n          }\n          let us = checkHitUs(position, direction, d.x, d.y, -1, data.current.player);\n          if(us) {\n            emitHit(node, id, direction, d.x, d.y, eventBus.HIT_US, us);\n          }\n          let home = checkHit(position, direction, d.x, d.y, data.current.home);\n          if(home) {\n            emitHit(node, id, direction, d.x, d.y, eventBus.HIT_HOME, home);\n          }\n          // 子弹消失\n          if(box || brick || iron || us || home) {\n            karas.animate.frame.offFrame(frame);\n            delete hash[id];\n            this.setState({\n              hash,\n            });\n          }\n        };\n        karas.animate.frame.onFrame(frame);\n      });\n    });\n  }\n\n  move(index, position, direction) {\n    // 防止子弹过多过于连续先检查index的player限制\n    let target = limit[index] = limit[index] || [];\n    let length = target.length;\n    let now = Date.now();\n    if(length) {\n      let last = target[length - 1];\n      // 200ms限制\n      if(now - last.time < 200) {\n        return;\n      }\n      // 3发限制\n      if(length >= 3) {\n        return;\n      }\n    }\n    // 每个子弹相对于tank当时位置+方向生成唯一id\n    let id = uuid++;\n    target.push({\n      id,\n      time: now,\n    });\n    let hash = this.state.hash;\n    let d = {\n      index,\n      position,\n      direction,\n      x: 0,\n      y: 0,\n    };\n    hash[id] = d;\n    this.setState({\n      hash,\n    }, () => {\n      // 子弹每帧移动\n      let frame = () => {\n        let node = this.ref[id];\n        if(direction === 0) {\n          d.y -= MOVE_PX;\n          node.updateStyle({\n            translateY: d.y,\n          });\n        }\n        else if(direction === 1) {\n          d.x += MOVE_PX;\n          node.updateStyle({\n            translateX: d.x,\n          });\n        }\n        else if(direction === 2) {\n          d.y += MOVE_PX;\n          node.updateStyle({\n            translateY: d.y,\n          });\n        }\n        else if(direction === 3) {\n          d.x -= MOVE_PX;\n          node.updateStyle({\n            translateX: d.x,\n          });\n        }\n        // 校验碰撞\n        let box = checkBox(position, direction, d.x, d.y, data.current.box);\n        if(box) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_BOX);\n        }\n        let brick = checkHit(position, direction, d.x, d.y, data.current.brick);\n        if(brick) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_BRICK, brick);\n        }\n        let iron = checkHit(position, direction, d.x, d.y, data.current.iron);\n        if(iron) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_IRON, brick);\n        }\n        let enemy = checkHitEnemy(position, direction, d.x, d.y, data.current.enemy);\n        if(enemy) {\n          eventBus.activeEnemyNum -= enemy.length;\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_ENEMY, enemy);\n        }\n        let us = checkHitUs(position, direction, d.x, d.y, index, data.current.player);\n        if(us) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_US_BY_US, us);\n        }\n        let home = checkHit(position, direction, d.x, d.y, data.current.home);\n        if(home) {\n          emitHit(node, id, direction, d.x, d.y, eventBus.HIT_HOME, home);\n        }\n        // 子弹消失\n        if(box || brick || iron || enemy || us || home) {\n          karas.animate.frame.offFrame(frame);\n          removeBullet(target, id);\n          delete hash[id];\n          this.setState({\n            hash,\n          });\n        }\n      }\n      karas.animate.frame.onFrame(frame);\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n    }}>\n      {\n        Object.keys(this.state.hash).map(id => {\n          let data = this.state.hash[id];\n          let { position, direction, x, y } = data;\n          let left, top, background;\n          if(direction === 0) {\n            left = position[0] + 12;\n            top = position[1] - 4;\n            background = 'url(tank.png) no-repeat 0 -170px';\n          }\n          else if(direction === 1) {\n            left = position[0] + 28;\n            top = position[1] + 12;\n            background = 'url(tank.png) no-repeat -10px -179px';\n          }\n          else if(direction === 2) {\n            left = position[0] + 12;\n            top = position[1] + 28;\n            background = 'url(tank.png) no-repeat -10px -170px';\n          }\n          else if(direction === 3) {\n            left = position[0] - 4;\n            top = position[1] + 12;\n            background = 'url(tank.png) no-repeat 0 -179px';\n          }\n          return <span ref={id}\n                       key={id}\n                       style={{\n                         position: 'absolute',\n                         left,\n                         top,\n                         width: 8,\n                         height: 8,\n                         background,\n                         translateX: x,\n                         translateY: y,\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Bullet;\n","import karas from 'karas';\nimport eventBus from './eventBus';\n\nclass Hit extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hash: {},\n    };\n  }\n\n  componentDidMount() {\n    eventBus.on([eventBus.HIT_BOX, eventBus.HIT_BRICK, eventBus.HIT_IRON, eventBus.HIT_ENEMY], (id, x, y) => {\n      let hash = this.state.hash;\n      hash[id] = {\n        x,\n        y,\n      };\n      this.setState({\n        hash,\n      }, () => {\n        let node = this.ref[id];\n        let a = node.animate([\n          {\n            visibility: 'visible',\n          },\n          {\n            visibility: 'visible',\n            backgroundPosition: '-748px -136px',\n          },\n        ], {\n          duration: 100,\n          iterations: 2,\n          direction: 'alternate',\n          easing: 'steps(2)',\n        });\n        a.on('finish', () => {\n          delete hash[id];\n          this.setState({\n            hash,\n          });\n        });\n      });\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n    }}>\n      {\n        Object.keys(this.state.hash).map(id => {\n          let d = this.state.hash[id];\n          return <span ref={id}\n                       key={id}\n                       style={{\n                         position: 'absolute',\n                         left: d.x,\n                         top: d.y,\n                         width: 32,\n                         height: 32,\n                         translateX: '-50%',\n                         translateY: '-50%',\n                         background: 'url(tank.png) no-repeat -680px -136px',\n                         visibility: 'hidden',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Hit;\n","import karas from 'karas';\nimport eventBus from './eventBus';\n\nclass Boom extends karas.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hash: {},\n    };\n  }\n\n  componentDidMount() {\n    eventBus.on(eventBus.HIT_ENEMY, (id, x, y, enemy) => {\n      let hash = this.state.hash;\n      enemy.forEach(item => {\n        hash[id] = {\n          x: item[5] + 16,\n          y: item[6] + 16,\n        };\n        this.setState({\n          hash,\n        }, () => {\n          let node = this.ref[id];\n          let a = node.animate([\n            {\n              visibility: 'visible',\n            },\n            {\n              visibility: 'visible',\n              backgroundPosition: '-851px -137px',\n            },\n          ], {\n            duration: 100,\n            iterations: 3,\n            direction: 'alternate',\n            easing: 'steps(1)',\n          });\n          a.on('finish', () => {\n            delete hash[id];\n            this.setState({\n              hash,\n            });\n          });\n        });\n      });\n    });\n    eventBus.on(eventBus.HIT_US, (id, x, y, us) => {\n      let hash = this.state.hash;\n      us.forEach(item => {\n        // 保护状态\n        if(item[3] === 1) {\n          return;\n        }\n        hash[id] = {\n          x: item[5] + 16,\n          y: item[6] + 16,\n        };\n        this.setState({\n          hash,\n        }, () => {\n          let node = this.ref[id];\n          let a = node.animate([\n            {\n              visibility: 'visible',\n            },\n            {\n              visibility: 'visible',\n              backgroundPosition: '-851px -137px',\n            },\n          ], {\n            duration: 100,\n            iterations: 3,\n            direction: 'alternate',\n            easing: 'steps(1)',\n          });\n          a.on('finish', () => {\n            delete hash[id];\n            this.setState({\n              hash,\n            });\n          });\n        });\n      });\n    });\n    eventBus.on([eventBus.HIT_HOME], (id, x, y, home) => {\n      let hash = this.state.hash;\n      home.forEach(item => {\n        hash[id] = {\n          x: item[0] * 16 + 16,\n          y: item[1] * 16 + 16,\n        };\n        this.setState({\n          hash,\n        }, () => {\n          let node = this.ref[id];\n          let a = node.animate([\n            {\n              visibility: 'visible',\n            },\n            {\n              visibility: 'visible',\n              backgroundPosition: '-851px -137px',\n            },\n          ], {\n            duration: 100,\n            iterations: 3,\n            direction: 'alternate',\n            easing: 'steps(1)',\n          });\n          a.on('finish', () => {\n            delete hash[id];\n            this.setState({\n              hash,\n            });\n          });\n        });\n      });\n    });\n  }\n\n  render() {\n    return <div style={{\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n    }}>\n      {\n        Object.keys(this.state.hash).map(id => {\n          let d = this.state.hash[id];\n          return <span ref={id}\n                       key={id}\n                       style={{\n                         position: 'absolute',\n                         left: d.x,\n                         top: d.y,\n                         width: 64,\n                         height: 64,\n                         translateX: '-50%',\n                         translateY: '-50%',\n                         background: 'url(tank.png) no-repeat -783px -137px',\n                         visibility: 'hidden',\n                       }}/>;\n        })\n      }\n    </div>;\n  }\n}\n\nexport default Boom;\n","import Menu from './Menu';\nimport StageNum from './StageNum';\nimport GameOver from './GameOver';\nimport Box from './Box';\nimport Brick from './Brick';\nimport Iron from './Iron';\nimport Fade from './Fade';\nimport Player from './Player';\nimport Enemy from './Enemy';\nimport Bullet from './Bullet';\nimport Hit from './Hit';\nimport Boom from './Boom';\nimport eventBus from './eventBus';\nimport data from './data';\n\nlet root = karas.render(\n  <canvas width={600} height={600} cache=\"1\">\n    <Box ref=\"box\"/>\n    <Brick ref=\"brick\"/>\n    <Iron ref=\"iron\"/>\n    <Player ref=\"player\"/>\n    <Enemy ref=\"enemy\"/>\n    <Fade ref=\"fade\"/>\n    <Bullet ref=\"bullet\"/>\n    <Boom ref=\"boom\"/>\n    <Hit ref=\"hit\"/>\n    <Menu ref=\"menu\"/>\n    <StageNum ref=\"stageNum\"/>\n    <GameOver ref=\"gameOver\"/>\n  </canvas>,\n  '#canvas'\n);\n\ndocument.addEventListener('keydown', function(e) {\n  let keyCode = e.keyCode;\n  // console.warn(e.keyCode, eventBus.gameState);\n  // 菜单进入，快速进入完毕\n  if(eventBus.gameState === eventBus.BEFORE_MENU) {\n    if(e.keyCode === 74) {\n      root.ref.menu.fastShow();\n    }\n  }\n  // 菜单选择\n  else if(eventBus.gameState === eventBus.MENUING) {\n    if(keyCode === 87 || keyCode === 83) {\n      root.ref.menu.altPlayerNum();\n    }\n    // 开始游戏，赋予data的current为第1局数值\n    else if(e.keyCode === 74) {\n      eventBus.gameState = eventBus.BEFORE_GAME;\n      root.ref.stageNum.show(1);\n      data.current = karas.util.clone(data[0]);\n    }\n  }\n  // 游戏控制\n  else if(eventBus.gameState === eventBus.GAMEING) {\n    if(keyCode === 87) {\n      root.ref.player.move(0, 0);\n    }\n    else if(keyCode === 68) {\n      root.ref.player.move(0, 1);\n    }\n    else if(keyCode === 83) {\n      root.ref.player.move(0, 2);\n    }\n    else if(keyCode === 65) {\n      root.ref.player.move(0, 3);\n    }\n    // p1开火\n    else if(keyCode === 74) {\n      let position = root.ref.player.getPosition(0);\n      let direction = root.ref.player.getDirection(0);\n      root.ref.bullet.move(0, position.slice(0), direction);\n    }\n  }\n  else if(eventBus.gameState === eventBus.GAME_OVER_WAIT) {\n    if(keyCode === 74) {\n      root.ref.player.setState({\n        show: false,\n        list: [],\n      });\n      root.ref.enemy.setState({\n        show: false,\n        list: [],\n      });\n      root.ref.brick.setState({\n        show: false,\n        list: [],\n      });\n      root.ref.iron.setState({\n        show: false,\n        list: [],\n      });\n      root.ref.box.setState({\n        show: false,\n        list: [],\n        home: [],\n      });\n      root.ref.gameOver.setState({\n        show: false,\n      });\n      root.ref.menu.show();\n      eventBus.gameState = eventBus.BEFORE_MENU;\n      eventBus.emit(eventBus.BEFORE_MENU);\n    }\n  }\n});\n\ndocument.addEventListener('keyup', function(e) {\n  let keyCode = e.keyCode;\n  if(eventBus.gameState === eventBus.GAMEING) {\n    if(keyCode === 87) {\n      root.ref.player.stop(0);\n    }\n    else if(keyCode === 68) {\n      root.ref.player.stop(0);\n    }\n    else if(keyCode === 83) {\n      root.ref.player.stop(0);\n    }\n    else if(keyCode === 65) {\n      root.ref.player.stop(0);\n    }\n  }\n});\n\nlet w = document.querySelector('#w');\nlet a = document.querySelector('#a');\nlet s = document.querySelector('#s');\nlet d = document.querySelector('#d');\nlet j = document.querySelector('#j');\n\nw.addEventListener('touchstart', function() {\n  if(eventBus.gameState === eventBus.MENUING) {\n    root.ref.menu.altPlayerNum();\n  }\n  else if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.move(0, 0);\n  }\n});\n\na.addEventListener('touchstart', function() {\n  if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.move(0, 3);\n  }\n});\n\ns.addEventListener('touchstart', function() {\n  if(eventBus.gameState === eventBus.MENUING) {\n    root.ref.menu.altPlayerNum();\n  }\n  else if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.move(0, 2);\n  }\n});\n\nd.addEventListener('touchstart', function() {\n  if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.move(0, 1);\n  }\n});\n\nj.addEventListener('touchstart', function() {\n  if(eventBus.gameState === eventBus.BEFORE_MENU) {\n    root.ref.menu.fastShow();\n  }\n  else if(eventBus.gameState === eventBus.MENUING) {\n    eventBus.gameState = eventBus.BEFORE_GAME;\n    root.ref.stageNum.show(1);\n    data.current = karas.util.clone(data[0]);\n  }\n  else if(eventBus.gameState === eventBus.GAMEING) {\n    let position = root.ref.player.getPosition(0);\n    let direction = root.ref.player.getDirection(0);\n    root.ref.bullet.move(0, position.slice(0), direction);\n  }\n  else if(eventBus.gameState === eventBus.GAME_OVER_WAIT) {\n    root.ref.player.setState({\n      show: false,\n      list: [],\n    });\n    root.ref.enemy.setState({\n      show: false,\n      list: [],\n    });\n    root.ref.brick.setState({\n      show: false,\n      list: [],\n    });\n    root.ref.iron.setState({\n      show: false,\n      list: [],\n    });\n    root.ref.box.setState({\n      show: false,\n      list: [],\n      home: [],\n    });\n    root.ref.gameOver.setState({\n      show: false,\n    });\n    root.ref.menu.show();\n    eventBus.gameState = eventBus.BEFORE_MENU;\n    eventBus.emit(eventBus.BEFORE_MENU);\n  }\n});\n\nw.addEventListener('touchend', function() {\n  if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.stop(0);\n  }\n});\n\na.addEventListener('touchend', function() {\n  if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.stop(0);\n  }\n});\n\ns.addEventListener('touchend', function() {\n  if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.stop(0);\n  }\n});\n\nd.addEventListener('touchend', function() {\n  if(eventBus.gameState === eventBus.GAMEING) {\n    root.ref.player.stop(0);\n  }\n});\n"],"names":["current","eventBus","karas","Event","BEFORE_MENU","MENUING","BEFORE_GAME","WILL_GAME","GAMEING","GAME_OVER","GAME_OVER_WAIT","gameState","activeEnemyNum","HIT_BOX","HIT_BRICK","HIT_IRON","HIT_ENEMY","HIT_HOME","HIT_US","HIT_US_BY_US","ADD_ENEMY","ENEMY_FIRE","PLAY_REBONE","Menu","props","playerNum","sr","shadowRoot","tank","ref","animation","animate","translateY","duration","fill","tankAnimation","on","emit","updateStyle","visibility","backgroundPositionX","iterations","Infinity","easing","direction","clearAnimate","pause","componentDidMount","finish","n","position","left","top","width","height","translateX","background","Component","StageNum","prpos","state","num","setState","a","bottom","text","setTimeout","fontSize","fontWeight","GameOver","show","display","Box","list","home","fail","data","box","forEach","item","push","length","map","p","Brick","brick","id","x","y","hash","i","len","hasOwnProperty","indexOf","iron","Fade","enemy","player","count","interval","setInterval","clearInterval","name","node","backgroundPosition","opacity","checkBox","tx1","ty1","tx2","ty2","x1","y1","x2","y2","checkMove","disappear","checkEnemy","index","checkUs","checkHome","MOVE_PX","PROTECT_COUNT","Player","shield","fadeIn","removeAnimate","us","undefined","life","tx","ty","cb","isDestroyed","frame","offFrame","onFrame","currentD","frameDrop","util","animationList","slice","py","TURN_COUNT","ENEMY_FIRE_COUNT","getBgP","type","Enemy","px","movePx","fire","console","log","Math","floor","random","nd","j","len2","dx","dy","checkHit","res","x0","y0","checkHitEnemy","checkHitUs","emitHit","getComputedStyle","removeBullet","target","splice","uuid","limit","Bullet","d","now","Date","last","time","Object","keys","Hit","Boom","root","render","Iron","document","addEventListener","e","keyCode","menu","fastShow","altPlayerNum","stageNum","clone","move","getPosition","getDirection","bullet","gameOver","stop","w","querySelector","s"],"mappings":"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"}